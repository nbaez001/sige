package com.sige.gui;

import java.util.HashMap;
import java.util.List;
import java.util.Map;

import org.vaadin.dialogs.ConfirmDialog;

import com.sige.entidad.Dependencia;
import com.sige.gui.ui.NumberField;
import com.sige.servicio.DependenciaServicio;
import com.sige.servicio.ExpedienteMovimientoServicio;
import com.sige.servicio.UtilService;
import com.sige.util.Boton;
import com.sige.util.Busqueda;
import com.sige.util.Constantes;
import com.sige.util.Injector;
import com.sige.util.Notificacion;
import com.sige.util.Permiso;
import com.sige.util.SigeUtil;
import com.sige.util.TextField;
import com.vaadin.annotations.AutoGenerated;
import com.vaadin.data.Item;
import com.vaadin.data.Property;
import com.vaadin.data.Property.ValueChangeEvent;
import com.vaadin.data.util.IndexedContainer;
import com.vaadin.event.FieldEvents.TextChangeEvent;
import com.vaadin.event.FieldEvents.TextChangeListener;
import com.vaadin.event.ShortcutAction.KeyCode;
import com.vaadin.event.ShortcutListener;
import com.vaadin.server.ThemeResource;
import com.vaadin.shared.ui.label.ContentMode;
import com.vaadin.ui.AbsoluteLayout;
import com.vaadin.ui.Button;
import com.vaadin.ui.Button.ClickEvent;
import com.vaadin.ui.Button.ClickListener;
import com.vaadin.ui.CustomComponent;
import com.vaadin.ui.Label;
import com.vaadin.ui.Table;
import com.vaadin.ui.UI;
import com.vaadin.ui.Window;
import com.vaadin.ui.themes.Reindeer;

public class DependenciasMantenimiento extends CustomComponent implements
		ClickListener {

	/*- VaadinEditorProperties={"grid":"RegularGrid,10","showGrid":true,"snapToGrid":true,"snapToObject":true,"movingGuides":false,"snappingDistance":10} */

	private static final long serialVersionUID = 1L;
	@AutoGenerated
	private AbsoluteLayout mainLayout;
	@AutoGenerated
	private Button btnImprimir;
	@AutoGenerated
	private Button btnCancelar;
	@AutoGenerated
	private Button btnEliminar;
	@AutoGenerated
	private Button btnGuardar;
	@AutoGenerated
	private Button btnNuevo;
	@AutoGenerated
	private Boton btnBuscar;
	@AutoGenerated
	private NumberField txtBuscarPiso;
	@AutoGenerated
	private TextField txtBuscarNomeclatura;
	@AutoGenerated
	private TextField txtBuscarNombre;
	@AutoGenerated
	private Label lblTitulo;
	@AutoGenerated
	private Label lblTotalPaginas;
	@AutoGenerated
	private Label lblSeparador;
	@AutoGenerated
	private NumberField txtPaginaActual;
	@AutoGenerated
	private Label lblPagina;
	@AutoGenerated
	private Boton btnFin;
	@AutoGenerated
	private Boton btnSiguiente;
	@AutoGenerated
	private Boton btnAtras;
	@AutoGenerated
	private Boton btnInicio;
	@AutoGenerated
	private Label lblPiso;
	@AutoGenerated
	private NumberField txtPiso;
	@AutoGenerated
	private TextField txtNomeclatura;
	@AutoGenerated
	private Label lblNomeclatura;
	@AutoGenerated
	private Boton btnBuscarDependencia;
	@AutoGenerated
	private TextField txtDepenSuperior;
	@AutoGenerated
	private Label lblDependenciaSuperior;
	@AutoGenerated
	private TextField txtNombre;
	@AutoGenerated
	private Label lblNombre;
	@AutoGenerated
	private Table tblDependencias;
	private boolean flagEsNuevo;

	private Dependencia dependencia;

	private Dependencia dependenciaSuperior;

	private DependenciaServicio dependenciaServicio;

	private Window quienLlama;
	private UtilService utilService;
	private Map<String, Integer> columnLenghts;
	private ExpedienteMovimientoServicio expedienteMovimientoService;
	/**
	 * The constructor should first build the main layout, set the composition
	 * root and then do any custom initialization.
	 * 
	 * The constructor will not be automatically regenerated by the visual
	 * editor.
	 */
	private Permiso permiso;
	private boolean confirmacion = false;

	public DependenciasMantenimiento(Window quienLlama, Permiso permiso) {
		this.expedienteMovimientoService = Injector
				.obtenerServicio(ExpedienteMovimientoServicio.class);
		this.dependenciaServicio = Injector
				.obtenerServicio(DependenciaServicio.class);
		this.utilService = Injector.obtenerServicio(UtilService.class);
		this.quienLlama = quienLlama;
		this.permiso = permiso;
		buildMainLayout();
		setCompositionRoot(mainLayout);
		postBuid();
		resetearFormulario();
		getAllDependencias();
		// TODO add user code here
	}

	private void postBuid() {

		lblTitulo.setContentMode(ContentMode.HTML);

		columnLenghts = utilService.getLengthColumns("dependencias");
		this.txtNombre.setMaxLength(columnLenghts.get("nombre"));
		this.txtBuscarNombre.setMaxLength(columnLenghts.get("nombre"));
		this.txtBuscarNomeclatura.setMaxLength(columnLenghts
				.get("nomenclatura"));
		this.btnNuevo.addClickListener((ClickListener) this);
		this.btnGuardar.addClickListener((ClickListener) this);
		this.btnCancelar.addClickListener((ClickListener) this);
		this.btnEliminar.addClickListener((ClickListener) this);
		this.btnBuscar.addClickListener((ClickListener) this);
		this.btnInicio.addClickListener((ClickListener) this);
		this.btnAtras.addClickListener((ClickListener) this);
		this.btnSiguiente.addClickListener((ClickListener) this);
		this.btnFin.addClickListener((ClickListener) this);
		this.btnBuscarDependencia.addClickListener((ClickListener) this);
		this.btnImprimir.addClickListener((ClickListener) this);
		this.btnInicio.setStyleName(Reindeer.BUTTON_LINK);
		this.btnAtras.setStyleName(Reindeer.BUTTON_LINK);
		this.btnSiguiente.setStyleName(Reindeer.BUTTON_LINK);
		this.btnFin.setStyleName(Reindeer.BUTTON_LINK);
		this.btnBuscar.setStyleName("buscar");
		this.btnBuscarDependencia.setStyleName("buscar");
		this.txtPaginaActual.setValue("1");

		this.txtDepenSuperior.setEnabled(false);
		this.txtPaginaActual.setId("paginaActual");
		this.txtBuscarNombre.setId("buscarNombres");
		this.txtBuscarNomeclatura.setId("buscarNomeclatura");
		this.txtBuscarPiso.setId("buscarPiso");
		this.txtNombre.setId("nombres");
		this.txtNomeclatura.setId("nomeclatura");
		this.txtPiso.setId("piso");
		IndexedContainer container = new IndexedContainer();
		container.addContainerProperty("id", Long.class, null);
		container.addContainerProperty("item", Long.class, null);
		container.addContainerProperty("nombre", String.class, null);
		container.addContainerProperty("nomeclatura", String.class, null);
		container.addContainerProperty("piso", Integer.class, null);
		tblDependencias.setContainerDataSource(container);
		tblDependencias.setVisibleColumns(new Object[] { "item", "nombre",
				"nomeclatura", "piso" });
		tblDependencias.setColumnWidth("item", 25);
		tblDependencias.setColumnWidth("nombre", 175);
		tblDependencias.setColumnWidth("nomeclatura", 100);
		tblDependencias.setColumnWidth("piso", 40);

		tblDependencias.setColumnHeader("item", "Item");
		tblDependencias.setColumnHeader("nomeclatura", "Nomeclatura");
		tblDependencias.setColumnHeader("nombre", "Nombre");
		tblDependencias.setColumnHeader("piso", "Piso");
		tblDependencias.setSelectable(true);
		tblDependencias.setImmediate(true);
		this.btnCancelar.setId("cancelar");
		this.btnEliminar.setId("eliminar");
		this.btnGuardar.setId("guardar");
		this.btnNuevo.setId("nuevo");
		this.btnBuscar.setId("consultar");
		this.btnImprimir.setId("imprimir");
		SigeUtil.validarBotones(permiso, btnNuevo, btnEliminar, btnBuscar,
				btnCancelar, btnGuardar, btnImprimir);
		txtBuscarNombre.setVisible(permiso.getConsultar());
		txtBuscarNomeclatura.setVisible(permiso.getConsultar());
		txtBuscarPiso.setVisible(permiso.getConsultar());
		txtNombre.setTabIndex(1);
		btnBuscarDependencia.setTabIndex(2);
		txtNomeclatura.setTabIndex(3);
		txtPiso.setTabIndex(4);
		btnGuardar.setTabIndex(5);
		this.txtPaginaActual.setImmediate(true);
		this.tblDependencias
				.addValueChangeListener(new Property.ValueChangeListener() {
					private static final long serialVersionUID = 1L;

					public void valueChange(ValueChangeEvent event) {
						Item item = tblDependencias.getItem(tblDependencias
								.getValue());
						if (item != null) {
							btnGuardar.setCaption("Actualizar");
							btnEliminar.setEnabled(true);
							btnCancelar.setVisible(permiso.getModificar());
							btnCancelar.setEnabled(true);
							btnNuevo.setEnabled(true);
							flagEsNuevo = false;
							btnGuardar.setVisible(permiso.getModificar());
							btnGuardar.setEnabled(true);
							btnBuscarDependencia.setEnabled(true);
							desactivarCampos(permiso.getModificar());
							getDependencia(new Long(item.getItemProperty("id")
									.getValue().toString()));
							tblDependencias.unselect(tblDependencias.getValue());
						}
					}
				});

		this.txtPaginaActual.addShortcutListener(new ShortcutListener("",
				KeyCode.ENTER, null) {
			private static final long serialVersionUID = 1L;

			@Override
			public void handleAction(Object sender, Object target) {
				if (target instanceof TextField
						&& ((TextField) target).getId().equals("paginaActual")) {
					Long paginaActual = null;
					try {
						paginaActual = Long.parseLong(txtPaginaActual
								.getValue().toString());
					} catch (Exception exception) {
						paginaActual = 1L;
					}
					txtPaginaActual.setValue(paginaActual.toString());
					getAllDependencias();
				}
			}
		});

		this.txtBuscarNomeclatura.setImmediate(true);
		this.txtBuscarNomeclatura
				.addTextChangeListener(new TextChangeListener() {
					@Override
					public void textChange(TextChangeEvent event) {
						// TODO Auto-generated method stub
						txtPaginaActual.setImmediate(true);
						txtBuscarNomeclatura.setValue(event.getText());
						getAllDependencias();
					}
				});

		this.txtBuscarPiso.setImmediate(true);
		this.txtBuscarPiso.addTextChangeListener(new TextChangeListener() {
			@Override
			public void textChange(TextChangeEvent event) {
				// TODO Auto-generated method stub
				txtPaginaActual.setImmediate(true);
				txtBuscarPiso.setValue(event.getText());
				getAllDependencias();
			}
		});

		this.txtBuscarNombre.setImmediate(true);
		this.txtBuscarNombre.addTextChangeListener(new TextChangeListener() {
			@Override
			public void textChange(TextChangeEvent event) {
				// TODO Auto-generated method stub
				txtPaginaActual.setImmediate(true);
				txtBuscarNombre.setValue(event.getText());
				getAllDependencias();
			}
		});

	}

	public void obtenerMotivo(String motivo, Boolean confirmacion,
			Integer tipoOperacion) {
		if (confirmacion) {
			dependencia.setMotivoModificacion(motivo);
			this.confirmacion = true;
			if (tipoOperacion.equals(Constantes.TIPO_OPERACION.MODIFICACION)) {
				btnGuardar.click();
			} else {
				btnEliminar.click();
			}
			this.confirmacion = false;
		}
	}

	@SuppressWarnings("unchecked")
	private void getAllDependencias() {
		IndexedContainer container = (IndexedContainer) tblDependencias
				.getContainerDataSource();
		container.removeAllItems();

		List<Dependencia> dependenciasListado = null;
		Long paginaActual = Long.parseLong(this.txtPaginaActual.getValue()
				.toString());
		Dependencia dependenciaBuscar = new Dependencia();
		dependenciaBuscar.setNombre(this.txtBuscarNombre.getValue().toString());
		dependenciaBuscar.setNomenclatura(this.txtBuscarNomeclatura.getValue()
				.toString());
		if (this.txtBuscarPiso.getValue().toString().length() > 0) {
			dependenciaBuscar.setPiso(new Integer(this.txtBuscarPiso.getValue()
					.toString()));
		} else {
			dependenciaBuscar.setPiso(-1);
		}
		Busqueda busqueda = dependenciaServicio.buscarPorDependencia(
				dependenciaBuscar, paginaActual);
		dependenciasListado = (List<Dependencia>) busqueda.getRegistos();
		this.lblTotalPaginas.setValue(busqueda.getNumeroPaginas().toString());
		this.txtPaginaActual.setValue(busqueda.getPaginaActual().toString());

		Long numeroItem = (Long.parseLong(this.txtPaginaActual.getValue()
				.toString()) - 1) * Constantes.PAGINACION.DEPENDENCIA + 1;
		for (int i = 0; i < dependenciasListado.size(); i++) {
			Item item = container.addItem(i);
			item.getItemProperty("id").setValue(
					dependenciasListado.get(i).getId());
			item.getItemProperty("item").setValue(numeroItem++);
			item.getItemProperty("nomeclatura").setValue(
					dependenciasListado.get(i).getNomenclatura());
			item.getItemProperty("nombre").setValue(
					dependenciasListado.get(i).getNombre());
			item.getItemProperty("piso").setValue(
					dependenciasListado.get(i).getPiso());
		}
	}

	public void obtenerDependenciaSuperior(Long dependenciaId) {
		if (dependenciaId != null) {
			dependenciaSuperior = dependenciaServicio.obtener(dependenciaId);
			if (dependenciaSuperior != null) {
				this.txtDepenSuperior.setValue(dependenciaSuperior.getNombre());
			} else {
				this.txtDepenSuperior.setValue("");
			}
		} else {
			this.txtDepenSuperior.setValue("");
		}
	}

	private void desactivarCampos(boolean estado) {
		txtNombre.setEnabled(estado);
		txtNomeclatura.setEnabled(estado);
		txtPiso.setEnabled(estado);
		btnBuscarDependencia.setEnabled(estado);
	}

	private void getDependencia(Long dependenciaId) {
		dependencia = dependenciaServicio.obtener(dependenciaId);
		this.txtNombre.setValue(dependencia.getNombre().trim());
		this.txtNomeclatura.setValue(dependencia.getNomenclatura().trim());
		this.txtPiso.setValue(dependencia.getPiso() + "");
		obtenerDependenciaSuperior(new Long(dependencia.getCodigoDependSuper()));

	}

	private void resetearFormulario() {
		this.flagEsNuevo = false;
		this.btnCancelar.setEnabled(false);
		this.btnNuevo.setEnabled(true);
		this.btnGuardar.setEnabled(false);
		this.btnBuscarDependencia.setEnabled(false);
		resetearComun();
		desactivarCampos(false);
	}

	private void resetearComun() {
		this.btnEliminar.setEnabled(false);
		this.txtNombre.setValue("");
		this.txtNomeclatura.setValue("");
		this.txtPiso.setValue("");
		this.txtDepenSuperior.setValue("");
		dependenciaSuperior = null;
	}

	private void NuevoRegistro() {
		dependencia = new Dependencia();
		this.flagEsNuevo = true;
		this.btnGuardar.setVisible(permiso.getNuevo());
		this.btnGuardar.setCaption("Guardar");
		this.btnGuardar.setEnabled(true);
		this.btnCancelar.setVisible(permiso.getNuevo());
		this.btnCancelar.setEnabled(true);
		this.btnNuevo.setEnabled(false);
		btnBuscarDependencia.setEnabled(true);
		desactivarCampos(permiso.getNuevo());
		resetearComun();
	}

	@Override
	public void buttonClick(ClickEvent event) {
		if (event.getSource() == this.btnNuevo) {
			NuevoRegistro();
			this.txtNombre.focus();
		} else {
			if (event.getSource() == this.btnGuardar) {
				if (SigeUtil.validarCamposTexto(txtNombre)) {
					dependencia.setNombre(this.txtNombre.getValue().toString());
					dependencia.setNomenclatura(this.txtNomeclatura.getValue()
							.toString());
					if (this.txtPiso.getValue().toString().equals("")) {
						dependencia.setPiso(new Integer(1));
					} else {
						dependencia.setPiso(new Integer(this.txtPiso.getValue()
								.toString()));
					}
					if (dependenciaSuperior != null) {
						dependencia.setCodigoDependSuper(dependenciaSuperior
								.getId().intValue());
					} else {
						dependencia.setCodigoDependSuper(0);
					}
					if (this.flagEsNuevo) {
						if (!dependenciaServicio.validarDuplicado(dependencia)) {
							Notificacion.show(new Notificacion(
									"El nombre de la dependencia ya existe",
									Constantes.MENSAJE.TYPE_ERROR));
							return;
						}
						dependenciaServicio.crear(dependencia);
						Notificacion.show(new Notificacion(
								"Se guardo correctamete la dependencia",
								Constantes.MENSAJE.TYPE_SUCCES));
					} else {
						if (!confirmacion) {
							Window ventana = SigeUtil.generarBuscador(
									new Window(), "INGRESAR MOTIVO", "360",
									"260");
							ventana.setContent(new PanelMotivoObservacion(
									ventana, this,
									Constantes.TIPO_OPERACION.MODIFICACION,
									(columnLenghts.get("motivomodifica"))));
							UI.getCurrent().addWindow(ventana);
							return;
						}
						dependenciaServicio.actualizar(dependencia);
						Notificacion.show(new Notificacion(
								"Se actualizo correctamete la dependencia",
								Constantes.MENSAJE.TYPE_SUCCES));
					}
					resetearFormulario();
					getAllDependencias();
				} else {
					Notificacion.show(new Notificacion(
							"Debe llenar todos los campos",
							Constantes.MENSAJE.TYPE_ERROR));
				}
			} else {
				if (event.getSource() == this.btnCancelar) {
					resetearFormulario();
				} else {
					if (event.getSource() == this.btnBuscar) {
						this.txtPaginaActual.setValue("1");
						getAllDependencias();
					} else {
						if (event.getSource() == this.btnEliminar) {
							Boolean dependenciaEstaEnMovimiento = expedienteMovimientoService
									.validarDependenciaMovimientos(dependencia);
							if (!confirmacion) {
								Window ventana = SigeUtil.generarBuscador(
										new Window(), "INGRESAR MOTIVO", "360",
										"260");
								ventana.setContent(new PanelMotivoObservacion(
										ventana, this,
										Constantes.TIPO_OPERACION.ELIMINACION,
										(columnLenghts.get("motivomodifica"))));
								UI.getCurrent().addWindow(ventana);
								return;
							}
							if (dependenciaEstaEnMovimiento
									|| dependencia.getId().equals(
											dependenciaServicio
													.getCodigoMesaPartes())) {
								Notificacion
										.show(new Notificacion(
												"No es posible eliminar la dependencia <br/> por que ya existen movimientos con esta dependencia",
												Constantes.MENSAJE.TYPE_ERROR));
							} else {
								ConfirmDialog.show(UI.getCurrent(),
										"Confirmación",
										"¿Desea elminar La dependecia?",
										"Aceptar", "Cancelar",
										new ConfirmDialog.Listener() {
											private static final long serialVersionUID = 1L;

											public void onClose(
													ConfirmDialog dialog) {
												if (dialog.isConfirmed()) {
													dependenciaServicio
															.eliminiarDependencia(dependencia);
													resetearFormulario();
													getAllDependencias();
												}
											}
										});
							}
						} else {
							if (event.getSource() == this.btnSiguiente) {
								Long paginaActual = Long
										.parseLong(this.txtPaginaActual
												.getValue().toString()) + 1;
								if (paginaActual <= Long
										.parseLong(this.lblTotalPaginas
												.getValue().toString())) {
									this.txtPaginaActual.setValue(paginaActual
											.toString());
								}
								getAllDependencias();
							} else {
								if (event.getSource() == this.btnAtras) {
									Long paginaActual = Long
											.parseLong(this.txtPaginaActual
													.getValue().toString()) - 1;
									if (paginaActual >= 1) {
										this.txtPaginaActual
												.setValue(paginaActual
														.toString());
									}
									getAllDependencias();
								} else {
									if (event.getSource() == this.btnInicio) {
										this.txtPaginaActual.setValue("1");
										getAllDependencias();
									} else {
										if (event.getSource() == this.btnFin) {
											this.txtPaginaActual
													.setValue(this.lblTotalPaginas
															.getValue());
											getAllDependencias();
										} else {
											if (event.getSource() == this.btnBuscarDependencia) {

												Window ventana = SigeUtil
														.generarBuscador(
																new Window(),
																"BUSCAR DEPENDENCIA",
																"645px",
																"375px");
												ventana.setContent(new DependenciaBuscar(
														ventana, this));
												UI.getCurrent().addWindow(
														ventana);
											} else if (event.getSource() == this.btnImprimir) {
												Window ventana = SigeUtil
														.generarBuscador(
																new Window(),
																"IMPRIMIR",
																"800px",
																"550px");
												Map<String, Object> parametros = new HashMap<String, Object>();
												parametros.put("nombre",
														this.txtBuscarNombre
																.getValue()
																.toUpperCase());
												parametros
														.put("nomenclatura",
																this.txtBuscarNomeclatura
																		.getValue()
																		.toUpperCase());
												parametros.put("piso",
														this.txtBuscarPiso
																.getValue()
																.toUpperCase());
												ventana.setContent(new PDFVizualizador(
														this, permiso,
														parametros, null,
														"DependenciasImprimir",
														null));
												UI.getCurrent().addWindow(
														ventana);
											}

										}
									}
								}
							}
						}
					}
				}
			}
		}
	}

	@AutoGenerated
	private AbsoluteLayout buildMainLayout() {
		// common part: create layout
		mainLayout = new AbsoluteLayout();
		mainLayout.setImmediate(false);
		mainLayout.setWidth("100%");
		mainLayout.setHeight("100%");

		// top-level component properties
		setWidth("100.0%");
		setHeight("100.0%");

		// tblDependencias
		tblDependencias = new Table();
		tblDependencias.setImmediate(false);
		tblDependencias.setWidth("403px");
		tblDependencias.setHeight("225px");
		mainLayout.addComponent(tblDependencias, "top:37.0px;left:20.0px;");

		// lblNombre
		lblNombre = new Label();
		lblNombre.setImmediate(false);
		lblNombre.setWidth("-1px");
		lblNombre.setHeight("-1px");
		lblNombre.setValue("Nombre");
		mainLayout.addComponent(lblNombre, "top:60.0px;left:441.0px;");

		// txtNombre
		txtNombre = new TextField();
		txtNombre.setImmediate(false);
		txtNombre.setWidth("164px");
		txtNombre.setHeight("-1px");
		mainLayout.addComponent(txtNombre, "top:57.0px;left:490.0px;");

		// lblDependenciaSuperior
		lblDependenciaSuperior = new Label();
		lblDependenciaSuperior.setImmediate(false);
		lblDependenciaSuperior.setWidth("-1px");
		lblDependenciaSuperior.setHeight("-1px");
		lblDependenciaSuperior.setValue("Dep. Superior");
		mainLayout.addComponent(lblDependenciaSuperior,
				"top:90.0px;left:441.0px;");

		// txtDepenSuperior
		txtDepenSuperior = new TextField();
		txtDepenSuperior.setImmediate(false);
		txtDepenSuperior.setWidth("104px");
		txtDepenSuperior.setHeight("-1px");
		mainLayout.addComponent(txtDepenSuperior, "top:88.0px;left:521.0px;");

		// btnBuscarDependencia
		btnBuscarDependencia = new Boton();
		btnBuscarDependencia.setIcon(new ThemeResource(
				"images/botones/find.png"));
		btnBuscarDependencia.setImmediate(false);
		btnBuscarDependencia.setWidth("28px");
		btnBuscarDependencia.setHeight("24px");
		mainLayout.addComponent(btnBuscarDependencia,
				"top:88.0px;left:626.0px;");

		// lblNomeclatura
		lblNomeclatura = new Label();
		lblNomeclatura.setImmediate(false);
		lblNomeclatura.setWidth("-1px");
		lblNomeclatura.setHeight("-1px");
		lblNomeclatura.setValue("Nomeclatura");
		mainLayout.addComponent(lblNomeclatura, "top:118.0px;left:441.0px;");

		// txtNomeclatura
		txtNomeclatura = new TextField();
		txtNomeclatura.setImmediate(false);
		txtNomeclatura.setWidth("133px");
		txtNomeclatura.setHeight("-1px");
		mainLayout.addComponent(txtNomeclatura, "top:118.0px;left:521.0px;");

		// txtPiso
		txtPiso = new NumberField();
		txtPiso.setImmediate(false);
		txtPiso.setWidth("59px");
		txtPiso.setHeight("-1px");
		mainLayout.addComponent(txtPiso, "top:148.0px;left:521.0px;");

		// lblPiso
		lblPiso = new Label();
		lblPiso.setImmediate(false);
		lblPiso.setWidth("-1px");
		lblPiso.setHeight("-1px");
		lblPiso.setValue("Piso");
		mainLayout.addComponent(lblPiso, "top:148.0px;left:441.0px;");

		// btnInicio
		btnInicio = new Boton();
		btnInicio.setIcon(new ThemeResource("images/botones/start.png"));
		btnInicio.setImmediate(false);
		btnInicio.setWidth("100.0%");
		btnInicio.setHeight("24px");
		mainLayout.addComponent(btnInicio,
				"top:265.0px;right:581.0px;left:60.0px;");

		// btnAtras
		btnAtras = new Boton();
		btnAtras.setIcon(new ThemeResource("images/botones/previous.png"));
		btnAtras.setImmediate(false);
		btnAtras.setWidth("28px");
		btnAtras.setHeight("24px");
		mainLayout.addComponent(btnAtras, "top:265.0px;left:88.0px;");

		// btnSiguiente
		btnSiguiente = new Boton();
		btnSiguiente.setIcon(new ThemeResource("images/botones/next.png"));
		btnSiguiente.setImmediate(false);
		btnSiguiente.setWidth("28px");
		btnSiguiente.setHeight("24px");
		mainLayout.addComponent(btnSiguiente, "top:265.0px;left:317.0px;");

		// btnFin
		btnFin = new Boton();
		btnFin.setIcon(new ThemeResource("images/botones/final.png"));
		btnFin.setImmediate(false);
		btnFin.setWidth("28px");
		btnFin.setHeight("24px");
		mainLayout.addComponent(btnFin, "top:265.0px;left:344.0px;");

		// lblPagina
		lblPagina = new Label();
		lblPagina.setImmediate(false);
		lblPagina.setWidth("-1px");
		lblPagina.setHeight("-1px");
		lblPagina.setValue("Página");
		mainLayout.addComponent(lblPagina, "top:268.0px;left:160.0px;");

		// txtPaginaActual
		txtPaginaActual = new NumberField();
		txtPaginaActual.setImmediate(false);
		txtPaginaActual.setWidth("37px");
		txtPaginaActual.setHeight("-1px");
		mainLayout.addComponent(txtPaginaActual, "top:266.0px;left:203.0px;");

		// lblSeparador
		lblSeparador = new Label();
		lblSeparador.setImmediate(false);
		lblSeparador.setWidth("-1px");
		lblSeparador.setHeight("-1px");
		lblSeparador.setValue("/");
		mainLayout.addComponent(lblSeparador, "top:269.0px;left:244.0px;");

		// lblTotalPaginas
		lblTotalPaginas = new Label();
		lblTotalPaginas.setImmediate(false);
		lblTotalPaginas.setWidth("-1px");
		lblTotalPaginas.setHeight("-1px");
		lblTotalPaginas.setValue("0");
		mainLayout.addComponent(lblTotalPaginas, "top:268.0px;left:253.0px;");

		// lblTitulo
		lblTitulo = new Label();
		lblTitulo.setImmediate(false);
		lblTitulo.setWidth("-1px");
		lblTitulo.setHeight("-1px");
		lblTitulo.setValue("<b>Datos de Dependencia</b>");
		mainLayout.addComponent(lblTitulo, "top:22.0px;left:494.0px;");

		// txtBuscarNombre
		txtBuscarNombre = new TextField();
		txtBuscarNombre.setImmediate(false);
		txtBuscarNombre.setWidth("183px");
		txtBuscarNombre.setHeight("-1px");
		mainLayout.addComponent(txtBuscarNombre, "top:14.0px;left:60.0px;");

		// txtBuscarNomeclatura
		txtBuscarNomeclatura = new TextField();
		txtBuscarNomeclatura.setImmediate(false);
		txtBuscarNomeclatura.setWidth("112px");
		txtBuscarNomeclatura.setHeight("-1px");
		mainLayout.addComponent(txtBuscarNomeclatura,
				"top:14.0px;left:243.0px;");

		// txtBuscarPiso
		txtBuscarPiso = new NumberField();
		txtBuscarPiso.setImmediate(false);
		txtBuscarPiso.setWidth("40px");
		txtBuscarPiso.setHeight("-1px");
		mainLayout.addComponent(txtBuscarPiso, "top:14.0px;left:355.0px;");

		// btnBuscar
		btnBuscar = new Boton();
		btnBuscar.setIcon(new ThemeResource("images/botones/find.png"));
		btnBuscar.setImmediate(false);
		btnBuscar.setWidth("28px");
		btnBuscar.setHeight("24px");
		mainLayout.addComponent(btnBuscar, "top:14.0px;left:395.0px;");

		// btnNuevo
		btnNuevo = new Button();
		btnNuevo.setCaption("Nuevo");
		btnNuevo.setIcon(new ThemeResource("images/botones/new.png"));
		btnNuevo.setImmediate(true);
		btnNuevo.setWidth("100px");
		btnNuevo.setHeight("-1px");
		mainLayout.addComponent(btnNuevo, "top:180.0px;left:447.0px;");

		// btnGuardar
		btnGuardar = new Button();
		btnGuardar.setCaption("Guardar");
		btnGuardar.setIcon(new ThemeResource("images/botones/save.png"));
		btnGuardar.setImmediate(true);
		btnGuardar.setWidth("100px");
		btnGuardar.setHeight("-1px");
		mainLayout.addComponent(btnGuardar, "top:180.0px;left:560.0px;");

		// btnEliminar
		btnEliminar = new Button();
		btnEliminar.setCaption("Eliminar");
		btnEliminar.setIcon(new ThemeResource("images/botones/delete.png"));
		btnEliminar.setImmediate(true);
		btnEliminar.setWidth("100px");
		btnEliminar.setHeight("-1px");
		mainLayout.addComponent(btnEliminar, "top:210.0px;left:447.0px;");

		// btnCancelar
		btnCancelar = new Button();
		btnCancelar.setCaption("Cancelar");
		btnCancelar.setIcon(new ThemeResource("images/botones/undo.png"));
		btnCancelar.setImmediate(true);
		btnCancelar.setWidth("100px");
		btnCancelar.setHeight("-1px");
		mainLayout.addComponent(btnCancelar, "top:210.0px;left:560.0px;");

		// btnImprimir
		btnImprimir = new Button();
		btnImprimir.setCaption("Imprimir");
		btnImprimir.setIcon(new ThemeResource("images/botones/print.png"));
		btnImprimir.setImmediate(true);
		btnImprimir.setWidth("100px");
		btnImprimir.setHeight("-1px");
		mainLayout.addComponent(btnImprimir, "top:240.0px;left:447.0px;");

		return mainLayout;
	}

}
